@model FGApp.Models.DistribuicaoFuncoesVM

@{
    ViewData["Title"] = "Distribução";
}

<h1>Mapa</h1>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', {
        'packages': ['geochart'],
        // Note: you will need to get a mapsApiKey for your project.
        // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings
        'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
    });
    google.charts.setOnLoadCallback(drawRegionsMap);

    function drawRegionsMap() {
        var data = google.visualization.arrayToDataTable(@Html.Raw(Model.arrayDados));

        var options = {
            region: 'BR',
            resolution: 'provinces',
            colorAxis: { minValue: 0, colors: ['#FFFFFF', '#FF0000'] },
            backgroundColor: '#ffffff',
            datalessRegionColor: '#dddddd',
            defaultColor: '#f5f5f5',
        };

        var chart = new google.visualization.GeoChart(document.getElementById('geochart-colors'));
        chart.draw(data, options);
    };
</script>

<form>
    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label class="control-label">Ano: </label>
                <select asp-for="anoSelecionado" asp-items="Model.selecaoAno" class="form-control">
                </select>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <input type="submit" value="Buscar" class="btn btn-primary" />
            </div>
        </div>
    </div>
</form>


<div id="geochart-colors" style="width: 700px; height: 433px;"></div>


