@model List<DataBaseFramework.DataModel.FuncoesOcupantesDM>

@{
    ViewData["Title"] = "Funções x Ocupantes";
}

<h1>Funções x Ocupantes</h1>

<div class="row">
    <div class="col-md-8">
        <canvas id="grafico" height="1500" width="900" ></canvas>
    </div>
</div>

<!-- Chart plugin JavaScript-->
<script src="~/lib/chart.js/Chart.min.js"></script>

<script type="text/javascript">
    var ctx = $("#grafico");
    var myLineChart = new Chart(ctx, {
        type: 'horizontalBar',
        data: {
            labels:
            @(Json.Serialize(Model.Select(i => i.FuncaoAtual).ToArray()))
            ,
            datasets: [{
            label: "Total Cargos",
                backgroundColor: "rgba(2,117,216,1)",
                borderColor: "rgba(2,117,216,1)",
                data:
                @(Json.Serialize(Model.Select(i => i.NumOcupantes).ToArray()))
                ,
            }],
        },
        options: {
            scales: {
                xAxes: [{
                    time: {
                        unit: 'Ocupantes'
                    },
                    gridLines: {
                        display: false
                    },
                    ticks: {
                        maxTicksLimit: 100
                    }
                }],
                yAxes: [{
                    ticks: {
                        min: 0,
                        max: 15000,
                        maxTicksLimit: 100
                    },
                    gridLines: {
                        display: true
                    }
                }],
            },
            legend: {
                display: false
            },
            responsive: true,
            maintainAspectRatio: false
        }
    });
</script>
